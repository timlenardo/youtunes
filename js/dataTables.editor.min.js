/*
 * File:        dataTables.editor.min.js
 * Version:     1.0.0
 * Author:      Allan Jardine (www.sprymedia.co.uk)
 * Info:        www.datatables.net
 * 
 * Copyright 2012 Allan Jardine, all rights reserved.
 * License: DataTables Editor - http://editor.datatables.net/license
 */
/*
     DataTables Editor: http://editor.datatables.net/license
*/
(function(i,h,l,e,f){var j={};f.Editor=function(a){!this instanceof f.Editor&&alert("DataTables Editor must be initilaised as a 'new' instance'");this._constructor(a)};f.Editor.models={};f.Editor.models.displayController={init:function(){},open:function(){},close:function(){}};f.Editor.models.field={name:null,dataProp:"",label:"",id:"",type:"text",fieldInfo:"",labelInfo:"","default":"",_wrapper:null,_fieldMessage:null,_fieldInfo:null,_fieldError:null,_labelInfo:null};f.Editor.models.fieldType={create:function(){},
get:function(){},set:function(){},enable:function(){},disable:function(){}};f.Editor.models.settings={ajaxUrl:"",ajax:null,domTable:null,dbTable:"",opts:null,displayController:null,fields:[],id:-1,displayed:!1,processing:!1,editRow:null,removeRows:null,action:null,events:{processing:[],open:[],close:[],presubmit:[],submitLoaded:[],submitComplete:[],submitSuccess:[],submitError:[],create:[],precreate:[],edit:[],preedit:[],remove:[],preremove:[],setData:[],initComplete:[]}};f.Editor.models.button={label:null,
fn:null,className:null};f.Editor.display={};(function(a,b,d,e){var c;e.Editor.display.lightbox=d.extend(!0,{},e.Editor.models.displayController,{init:function(){c._init();return c},open:function(a,b,e){c._dte=a;d(c._dom.content).children().detach();c._dom.content.appendChild(b);c._dom.content.appendChild(c._dom.close);c._show(e)},close:function(a,b){c._dte=a;c._hide(b)},_init:function(){if(!c._ready)c._dom.content=d("div.DTED_Lightbox_Content",c._dom.wrapper)[0],b.body.appendChild(c._dom.background),
b.body.appendChild(c._dom.wrapper),c._dom.background.style.visbility="hidden",c._dom.background.style.display="block",c._cssBackgroundOpacity=d(c._dom.background).css("opacity"),c._dom.background.style.display="none",c._dom.background.style.visbility="visible",d(c._dom.close).click(function(){c._dte.close("icon")}),d(c._dom.background).click(function(){c._dte.close("background")}),d("div.DTED_Lightbox_Content_Wrapper",c._dom.wrapper).click(function(a){d(a.target).hasClass("DTED_Lightbox_Content_Wrapper")&&
c._dte.close("background")}),d(a).resize(function(){c._heightCalc()})},_show:function(a){a||(a=function(){});c._dom.content.style.height="auto";var b=c._dom.wrapper.style;b.opacity=0;b.display="block";c._heightCalc();b.display="none";b.opacity=1;d(c._dom.wrapper).fadeIn();c._dom.background.style.opacity=0;c._dom.background.style.display="block";d(c._dom.background).animate({opacity:c._cssBackgroundOpacity},"normal",a)},_heightCalc:function(){c.conf.heightCalc?c.conf.heightCalc(c._dom.wrapper):d(c._dom.content).children().height();
var b=d(a).height()-2*c.conf.windowPadding-d("div.DTE_Header",c._dom.wrapper).outerHeight()-d("div.DTE_Footer",c._dom.wrapper).outerHeight();d("div.DTE_Body_Content",c._dom.wrapper).css("maxHeight",b)},_hide:function(a){a||(a=function(){});d([c._dom.wrapper,c._dom.background]).fadeOut("normal",a)},_dte:null,_ready:!1,_cssBackgroundOpacity:1,_dom:{wrapper:d('<div class="DTED_Lightbox_Wrapper"><div class="DTED_Lightbox_Container"><div class="DTED_Lightbox_Content_Wrapper"><div class="DTED_Lightbox_Content"></div></div></div></div>')[0],
background:d('<div class="DTED_Lightbox_Background"></div>')[0],close:d('<div class="DTED_Lightbox_Close"></div>')[0],content:null}});c=e.Editor.display.lightbox;c.conf={windowPadding:100,heightCalc:null}})(i,h,jQuery,jQuery.fn.dataTable);(function(a,b,d,e){var c;e.Editor.display.envelope=d.extend(!0,{},e.Editor.models.displayController,{init:function(){c._init();return c},open:function(a,b,e){c._dte=a;d(c._dom.content).children().detach();c._dom.content.appendChild(b);c._dom.content.appendChild(c._dom.close);
c._show(e)},close:function(a,b){c._dte=a;c._hide(b)},_init:function(){if(!c._ready)c._dom.content=d("div.DTED_Envelope_Container",c._dom.wrapper)[0],b.body.appendChild(c._dom.background),b.body.appendChild(c._dom.wrapper),c._dom.background.style.visbility="hidden",c._dom.background.style.display="block",c._cssBackgroundOpacity=d(c._dom.background).css("opacity"),c._dom.background.style.display="none",c._dom.background.style.visbility="visible",d(c._dom.close).click(function(){c._dte.close("icon")}),
d(c._dom.background).click(function(){c._dte.close("background")}),d("div.DTED_Envelope_Content_Wrapper",c._dom.wrapper).click(function(a){d(a.target).hasClass("DTED_Envelope_Content_Wrapper")&&c._dte.close("background")}),d(a).resize(function(){c._heightCalc()})},_show:function(a){a||(a=function(){});c._dom.content.style.height="auto";var b=c._dom.wrapper.style;b.opacity=0;b.display="block";var e=c._findAttachRow(),f=c._heightCalc(),n=e.offsetWidth;b.display="none";b.opacity=1;c._dom.wrapper.style.width=
n+"px";c._dom.wrapper.style.marginLeft=-(n/2)+"px";c._dom.wrapper.style.top=d(e).offset().top+e.offsetHeight+"px";c._dom.content.style.top=-1*f-20+"px";c._dom.background.style.opacity=0;c._dom.background.style.display="block";d(c._dom.background).animate({opacity:c._cssBackgroundOpacity},"normal");d(c._dom.wrapper).fadeIn();c.conf.windowScroll?d("html,body").animate({scrollTop:d(e).offset().top+e.offsetHeight-c.conf.windowPadding},function(){d(c._dom.content).animate({top:0},600,a)}):d(c._dom.content).animate({top:0},
600,a)},_heightCalc:function(){c.conf.heightCalc?c.conf.heightCalc(c._dom.wrapper):d(c._dom.content).children().height();var b=d(a).height()-2*c.conf.windowPadding-d("div.DTE_Header",c._dom.wrapper).outerHeight()-d("div.DTE_Footer",c._dom.wrapper).outerHeight();d("div.DTE_Body_Content",c._dom.wrapper).css("maxHeight",b);return d(c._dte.dom.wrapper).outerHeight()},_hide:function(a){a||(a=function(){});d(c._dom.content).animate({top:-(c._dom.content.offsetHeight+50)},600,function(){d([c._dom.wrapper,
c._dom.background]).fadeOut("normal",a)})},_findAttachRow:function(){if("head"===c.conf.attach||"create"===c._dte.s.action)return d(c._dte.s.domTable).dataTable().fnSettings().nTHead;if("edit"===c._dte.s.action)return c._dte.s.editRow;if("remove"===c._dte.s.action)return c._dte.s.removeRows[0]},_dte:null,_ready:!1,_cssBackgroundOpacity:1,_dom:{wrapper:d('<div class="DTED_Envelope_Wrapper"><div class="DTED_Envelope_ShadowLeft"></div><div class="DTED_Envelope_ShadowRight"></div><div class="DTED_Envelope_Container"></div></div>')[0],
background:d('<div class="DTED_Envelope_Background"></div>')[0],close:d('<div class="DTED_Envelope_Close">x</div>')[0],content:null}});c=e.Editor.display.envelope;c.conf={windowPadding:50,heightCalc:null,attach:"row",windowScroll:!0}})(i,h,jQuery,jQuery.fn.dataTable);f.Editor.prototype.add=function(a){if(e.isArray(a))for(var b=0,d=a.length;b<d;b++)this.add(a[b]);else{a=e.extend(!0,{},f.Editor.models.field,a);a.id="DTE_Field_"+a.name;if(""===a.dataProp)a.dataProp=a.name;b=e('<div class="DTE_Field DTE_Field_Type_'+
a.type+" DTE_Field_Name_"+a.name+'"><label class="DTE_Label" for="'+a.id+'">'+a.label+'<div class="DTE_Label_Info">'+a.labelInfo+'</div></label><div class="DTE_Field_Input"><div class="DTE_Field_Error"></div><div class="DTE_Field_Message"></div><div class="DTE_Field_Info">'+a.fieldInfo+"</div></div></div>")[0];d=j[a.type].create.call(this,a);null!==d?e("div.DTE_Field_Input",b).prepend(d):b.style.display="none";this.dom.formContent.appendChild(b);this.dom.formContent.appendChild(this.dom.formClear);
a._wrapper=b;a._fieldError=e("div.DTE_Field_Error",b)[0];a._fieldMessage=e("div.DTE_Field_Message",b)[0];a._fieldInfo=e("div.DTE_Field_Info",b)[0];a._labelInfo=e("div.DTE_Label_Info",b)[0];this.s.fields.push(a)}};f.Editor.prototype.buttons=function(a){var b=this,d,f,c;if(e.isArray(a)){e(this.dom.buttons).empty();var g=function(a){return function(c){c.preventDefault();a.fn&&a.fn.call(b)}};for(d=0,f=a.length;d<f;d++){c=h.createElement("button");if(a[d].label)c.innerHTML=a[d].label;if(a[d].className)c.className=
a[d].className;e(c).click(g(a[d]));this.dom.buttons.appendChild(c)}}else this.buttons([a])};f.Editor.prototype.clear=function(a){if(a)if(e.isArray(a))for(var b=0,d=a.length;b<d;b++)this.clear(a[b]);else{if(a=this._findFieldIndex(a))e(this.s.fields[a]._wrapper).remove(),this.s.fields.splice(a,1)}else e("div.DTE_Field",this.dom.wrapper).remove(),this.s.fields.splice(0,this.s.fields.length)};f.Editor.prototype.close=function(){var a=this;this._display("close",function(){a._clearDynamicInfo()})};f.Editor.prototype.create=
function(a,b,d){var f=this;this.s.id="";this.s.action="create";this.dom.form.style.display="block";this._actionClass();a&&this.title(a);b&&this.buttons(b);a=0;for(b=this.s.fields.length;a<b;a++){var c=this.s.fields[a];j[c.type].set(c,c["default"])}(d===l||d)&&this._display("open",function(){e("input:visible,select:visible,textarea:visible",f.dom.wrapper)[0].focus()})};f.Editor.prototype.disable=function(a){if(e.isArray(a))for(var b=0,d=a.length;b<d;b++)this.disable(a[b]);else(a=this._findField(a))&&
j[a.type].disable(a)};f.Editor.prototype.edit=function(a,b,d,f){var c=this;this.s.id=a.id;this.s.editRow=a;this.s.action="edit";this.dom.form.style.display="block";this._actionClass();b&&this.title(b);d&&this.buttons(d);a=e(this.s.domTable).dataTable()._(a)[0];b=0;for(d=this.s.fields.length;b<d;b++){var g=this.s.fields[b];""!==g.dataProp?j[g.type].set(g,a[g.dataProp]):j[g.type].set(g,g["default"])}(f===l||f)&&this._display("open",function(){e("input:visible,select:visible,textarea:visible",c.dom.wrapper)[0].focus()})};
f.Editor.prototype.enable=function(a){if(e.isArray(a))for(var b=0,d=a.length;b<d;b++)this.enable(a[b]);else(a=this._findField(a))&&j[a.type].enable(a)};f.Editor.prototype.error=function(a,b){if(b){var d=this._findField(a);d&&(this._message(d._fieldError,"slide",b),e(d._wrapper).addClass("DTE_Field_StateError"))}else this._message(this.dom.formError,"fade",a)};f.Editor.prototype.get=function(a){return(a=this._findField(a))?j[a.type].get(a):l};f.Editor.prototype.hide=function(a){var b,d;if(a)if(e.isArray(a))for(b=
0,d=a.length;b<d;b++)this.hide(a[b]);else{if(a=this._findField(a))this.s.displayed?e(a._wrapper).slideUp():a._wrapper.style.display="none"}else for(b=0,d=this.s.fields.length;b<d;b++)this.hide(this.s.fields[b].name)};f.Editor.prototype.message=function(a,b){b?this._message(this._findField(a)._fieldMessage,"slide",b):this._message(this.dom.formInfo,"fade",a)};f.Editor.prototype.off=function(a,b){"function"===typeof e().off?e(this).off(a,b):e(this).unbind(a,b)};f.Editor.prototype.on=function(a,b){if("function"===
typeof e().on)e(this).on(a,b);else e(this).bind(a,b)};f.Editor.prototype.open=function(){this._display("open")};f.Editor.prototype.remove=function(a,b,d,f){e.isArray(a)?(this.s.id="",this.s.action="remove",this.s.removeRows=a,this.dom.form.style.display="none",this._actionClass(),b&&this.title(b),d&&this.buttons(d),(f===l||f)&&this._display("open")):this.remove([a],b,d,f)};f.Editor.prototype.set=function(a,b){var d=this._findField(a);d&&j[d.type].set(d,b)};f.Editor.prototype.show=function(a){var b,
d;if(a)if(e.isArray(a))for(b=0,d=a.length;b<d;b++)this.show(a[b]);else{if(a=this._findField(a))this.s.displayed?e(a._wrapper).slideDown():a._wrapper.style.display="block"}else for(b=0,d=this.s.fields.length;b<d;b++)this.show(this.s.fields[b].name)};f.Editor.prototype.submit=function(a,b,d,f){var c=this,g=!0;!this.s.processing&&this.s.action&&(this._processing(!0),0<e("div.DTE_Field_Error:visible",this.dom.wrapper).length?e("div.DTE_Field_Error:visible",this.dom.wrapper).slideUp(function(){g&&(c._submit(a,
b,d,f),g=!1)}):this._submit(a,b,d,f),e("div.DTE_Field_StateError",this.dom.wrapper).removeClass("DTE_Field_StateError"),e(this.dom.formError).fadeOut())};f.Editor.prototype.title=function(a){this.dom.header.innerHTML=a};f.Editor.prototype._constructor=function(a){a=e.extend(!0,{},f.Editor.defaults,a);this.s=e.extend(!0,{},f.Editor.models.settings);this.dom={wrapper:e('<div class="DTE"><div class="DTE_Processing_Indicator"></div><div class="DTE_Header"><div class="DTE_Header_Content"></div></div><div class="DTE_Body"><div class="DTE_Body_Content"><div class="DTE_Form_Info"></div><form><div class="DTE_Form_Content"><div class="DTE_Form_Clear"></div></div></form></div></div><div class="DTE_Footer"><div class="DTE_Footer_Content"><div class="DTE_Form_Error"></div><div class="DTE_Form_Buttons"></div></div></div></div>')[0],
form:null,formClear:null,formError:null,formInfo:null,formContent:null,header:null,body:null,bodyContent:null,footer:null,processing:null,buttons:null};var b=this;this.s.domTable=a.domTable;this.s.dbTable=a.dbTable;this.s.ajaxUrl=a.ajaxUrl;this.s.ajax=a.ajax;this._callbackReg("processing",a.events.onProcessing,"User");this._callbackReg("open",a.events.onOpen,"User");this._callbackReg("close",a.events.onClose,"User");this._callbackReg("presubmit",a.events.onPreSubmit,"User");this._callbackReg("submitLoaded",
a.events.onPostSubmit,"User");this._callbackReg("submitComplete",a.events.onSubmitComplete,"User");this._callbackReg("submitSuccess",a.events.onSubmitSuccess,"User");this._callbackReg("submitError",a.events.onSubmitError,"User");this._callbackReg("precreate",a.events.onPreCreate,"User");this._callbackReg("create",a.events.onCreate,"User");this._callbackReg("postcreate",a.events.onPostCreate,"User");this._callbackReg("preedit",a.events.onPreEdit,"User");this._callbackReg("edit",a.events.onEdit,"User");
this._callbackReg("postedit",a.events.onPostEdit,"User");this._callbackReg("preremove",a.events.onPreRemove,"User");this._callbackReg("remove",a.events.onRemove,"User");this._callbackReg("postremove",a.events.onPostRemove,"User");this._callbackReg("setData",a.events.onSetData,"User");this._callbackReg("initComplete",a.events.onInitComplete,"User");this.dom.form=e("form",this.dom.wrapper)[0];this.dom.formClear=e("div.DTE_Form_Clear",this.dom.wrapper)[0];this.dom.formError=e("div.DTE_Form_Error",this.dom.wrapper)[0];
this.dom.formInfo=e("div.DTE_Form_Info",this.dom.wrapper)[0];this.dom.formContent=e("div.DTE_Form_Content",this.dom.wrapper)[0];this.dom.header=e("div.DTE_Header_Content",this.dom.wrapper)[0];this.dom.body=e("div.DTE_Body",this.dom.wrapper)[0];this.dom.bodyContent=e("div.DTE_Body_Content",this.dom.wrapper)[0];this.dom.footer=e("div.DTE_Footer",this.dom.wrapper)[0];this.dom.processing=e("div.DTE_Processing_Indicator",this.dom.wrapper)[0];this.dom.buttons=e("div.DTE_Form_Buttons",this.dom.wrapper)[0];
""!==this.s.dbTable&&e(this.dom.wrapper).addClass("DTE_Table_Name_"+this.s.dbTable);if(a.fields)for(var d=0,n=a.fields.length;d<n;d++)this.add(a.fields[d]);e(this.dom.form).submit(function(a){b.submit();a.preventDefault()});this.s.displayController=f.Editor.display[a.display].init(this);this._callbackFire("initComplete","onInitComplete",[])};f.Editor.prototype._actionClass=function(){e(this.dom.wrapper).removeClass("DTE_Action_Create DTE_Action_Edit DTE_Action_Remove");"create"===this.s.action?e(this.dom.wrapper).addClass("DTE_Action_Create"):
"edit"===this.s.action?e(this.dom.wrapper).addClass("DTE_Action_Edit"):"remove"===this.s.action&&e(this.dom.wrapper).addClass("DTE_Action_Remove")};f.Editor.prototype._callbackFire=function(a,b,d){for(var f=this.s.events[a],a=[],c=0,g=f.length;c<g;c++)a.push(f[c].fn.apply(this,d));null!==b&&(b=e.Event(b),e(this).trigger(b,d),a.push(b.result));return a};f.Editor.prototype._callbackReg=function(a,b,d){b&&this.s.events[a].push({fn:b,name:d})};f.Editor.prototype._clearDynamicInfo=function(){e("div.DTE_Field_StateError",
this.dom.wrapper).removeClass("DTE_Field_StateError");e("div.DTE_Field_Error",this.dom.wrapper).html("").css("display","none");this.error("");this.message("")};f.Editor.prototype._display=function(a,b){var d=this;"open"===a?(d.s.displayed=!0,this.s.displayController.open(this,this.dom.wrapper,function(){b&&b()}),this._callbackFire("open","onOpen")):"close"===a&&(this.s.displayController.close(this,function(){d.s.displayed=!1;b&&b()}),this._callbackFire("close","onClose"))};f.Editor.prototype._findField=
function(a){for(var b=0,d=this.s.fields.length;b<d;b++)if(this.s.fields[b].name===a)return this.s.fields[b];return l};f.Editor.prototype._findFieldIndex=function(a){for(var b=0,d=this.s.fields.length;b<d;b++)if(this.s.fields[b].name===a)return b;return l};f.Editor.prototype._message=function(a,b,d){""===d&&this.s.displayed?"slide"===b?e(a).slideUp():e(a).fadeOut():""===d?a.style.display="none":this.s.displayed?"slide"===b?e(a).html(d).slideDown():e(a).html(d).fadeIn():(e(a).html(d),a.style.display=
"block")};f.Editor.prototype._processing=function(a){(this.s.processing=a)?(this.dom.processing.style.display="block",e(this.dom.wrapper).addClass("DTE_Processing")):(this.dom.processing.style.display="none",e(this.dom.wrapper).removeClass("DTE_Processing"));this._callbackFire("processing","onProcessing",[a])};f.Editor.prototype._submit=function(a,b,d,f){var c=this,g,h,i={action:this.s.action,table:this.s.dbTable,id:this.s.id,data:{}};if("create"===this.s.action||"edit"===this.s.action)for(g=0,h=
this.s.fields.length;g<h;g++){var p=this.s.fields[g];i.data[p.name]=j[p.type].get(p)}else{i.data=[];for(g=0,h=this.s.removeRows.length;g<h;g++)i.data.push(this.s.removeRows[g].id)}d&&d(i);d=this._callbackFire("presubmit","onPreSubmit",[i]);-1!==e.inArray(!1,d)?this._processing(!1):this.s.ajax(this.s.ajaxUrl,i,function(d){c._callbackFire("submitLoaded","onSubmitLoaded",[d,i]);if(!d.error)d.error="";if(!d.fieldErrors)d.fieldErrors=[];if(""!==d.error||0!==d.fieldErrors.length){c.error(d.error);for(g=
0,h=d.fieldErrors.length;g<h;g++)c._findField(d.fieldErrors[g].name),c.error(d.fieldErrors[g].name,d.fieldErrors[g].status);0<d.fieldErrors.length&&e(c.dom.bodyContent,c.s.wrapper).animate({scrollTop:e("div.DTE_Field_StateError:eq(0)").position().top},600);b&&b.call(c,d)}else{var m=e(c.s.domTable).dataTable(),k={};for(g=0,h=c.s.fields.length;g<h;g++){var o=c.s.fields[g];null!==o.dataProp&&(k[o.dataProp]=j[o.type].get(o))}c._callbackFire("setData","onSetData",[d,k,c.s.action]);if(m.fnSettings().oFeatures.bServerSide)m.fnDraw();
else if("create"===c.s.action)k.DT_RowId=d.id,c._callbackFire("precreate","onPreCreate",[d,k]),m.fnAddData(k),c._callbackFire("create","onCreate",[d,k]);else if("edit"===c.s.action)c._callbackFire("preedit","onPreEdit",[d,k]),m.fnUpdate(k,c.s.editRow),c._callbackFire("edit","onEdit",[d,k]);else if("remove"===c.s.action){c._callbackFire("preremove","onPreRemove",[d]);for(g=0,h=c.s.removeRows.length;g<h;g++)m.fnDeleteRow(c.s.removeRows[g],!1);m.fnDraw();c._callbackFire("remove","onRemove",[d])}c.s.action=
null;(f===l||f)&&c._display("close",function(){c._clearDynamicInfo()});a&&a.call(c,d);c._callbackFire("submitSuccess","onSubmitSuccess",[d,k]);c._callbackFire("submitComplete","onSubmitComplete",[d,k])}c._processing(!1)},function(a,d,e){c._callbackFire("submitLoaded","onSubmitLoaded",[a,d,e,i]);c.error("An error has occurred - Please contact the system administrator");c._processing(!1);b&&b.call(c,a,d,e);c._callbackFire("submitError","onSubmitError",[a,d,e,i]);c._callbackFire("submitComplete","onSubmitComplete",
[a,d,e,i])})};f.Editor.defaults={domTable:null,ajaxUrl:"",fields:[],dbTable:"",display:"lightbox",ajax:function(a,b,d,f){e.ajax({url:a,data:b,dataType:"json",type:"POST",success:function(a){d(a)},error:function(a,b,d){f(a,b,d)}})},events:{onProcessing:null,onOpen:null,onClose:null,onPreSubmit:null,onPostSubmit:null,onSubmitComplete:null,onSubmitSuccess:null,onSubmitError:null,onPreCreate:null,onCreate:null,onPostCreate:null,onPreEdit:null,onEdit:null,onPostEdit:null,onPreRemove:null,onRemove:null,
onPostRemove:null,onSetData:null,onInitComplete:null}};if(i.TableTools)i.TableTools.BUTTONS.editor_create=e.extend(!0,i.TableTools.BUTTONS.text,{sButtonText:"New",editor:null,formTitle:"Create new entry",formButtons:[{label:"Create",fn:function(){this.submit()}}],fnClick:function(a,b){b.editor.create(b.formTitle,b.formButtons)}}),i.TableTools.BUTTONS.editor_edit=e.extend(!0,i.TableTools.BUTTONS.select_single,{sButtonText:"Edit",editor:null,formTitle:"Edit entry",formButtons:[{label:"Update",fn:function(){this.submit()}}],
fnClick:function(a,b){var d=this.fnGetSelected();1===d.length&&b.editor.edit(d[0],b.formTitle,b.formButtons)}}),i.TableTools.BUTTONS.editor_remove=e.extend(!0,i.TableTools.BUTTONS.select,{sButtonText:"Delete",editor:null,formTitle:"Delete",formButtons:[{label:"Delete",fn:function(){var a=this;this.submit(function(){i.TableTools.fnGetInstance(e(a.s.domTable)[0]).fnSelectNone()})}}],question:function(a){return"Are you sure you wish to delete "+a.length+" row"+(1===a.length?"?":"s?")},fnClick:function(a,
b){var d=this.fnGetSelected();0!==d.length&&(b.editor.message("function"===typeof b.question?b.question(d):b.question),b.editor.remove(d,b.formTitle,b.formButtons))}});f.Editor.fieldTypes=j;j.hidden=e.extend(!0,{},f.Editor.models.fieldType,{create:function(a){a._val=a.value;return null},get:function(a){return a._val},set:function(a,b){a._val=b}});j.readonly=e.extend(!0,{},f.Editor.models.fieldType,{create:function(a){a._input=h.createElement("input");a._input.setAttribute("readonly","readonly");a._input.id=
a.id;return a._input},get:function(a){return a._input.value},set:function(a,b){a._input.value=b},enable:function(a){a._input.disabled=!1},disable:function(a){a._input.disabled=!0}});j.text=e.extend(!0,{},f.Editor.models.fieldType,{create:function(a){a._input=h.createElement("input");a._input.id=a.id;return a._input},get:function(a){return a._input.value},set:function(a,b){a._input.value=b},enable:function(a){a._input.disabled=!1},disable:function(a){a._input.disabled=!0}});j.password=e.extend(!0,
{},f.Editor.models.fieldType,{create:function(a){a._input=h.createElement("input");a._input.type="password";a._input.id=a.id;return a._input},get:function(a){return a._input.value},set:function(a,b){a._input.value=b},enable:function(a){a._input.disabled=!1},disable:function(a){a._input.disabled=!0}});j.textarea=e.extend(!0,{},f.Editor.models.fieldType,{create:function(a){a._input=h.createElement("textarea");a._input.id=a.id;return a._input},get:function(a){return a._input.value},set:function(a,b){a._input.value=
b},enable:function(a){a._input.disabled=!1},disable:function(a){a._input.disabled=!0}});j.select=e.extend(!0,{},f.Editor.models.fieldType,{create:function(a){a._input=h.createElement("select");a._input.id=a.id;for(var b=0,d=a.ipOpts.length;b<d;b++)a._input.options[b]=new Option(a.ipOpts[b].label,a.ipOpts[b].value);return a._input},get:function(a){return e(a._input).val()},set:function(a,b){e(a._input).val(b)},enable:function(a){a._input.disabled=!1},disable:function(a){a._input.disabled=!0}});j.checkbox=
e.extend(!0,{},f.Editor.models.fieldType,{create:function(a){a._input=h.createElement("div");for(var b=0,d=a.ipOpts.length;b<d;b++){var e=h.createElement("div"),c=h.createElement("input"),f=h.createElement("label");f.innerHTML=a.ipOpts[b].label;f.setAttribute("for",a.id+"_"+b);c.id=a.id+"_"+b;c.type="checkbox";c.value=a.ipOpts[b].value!==l?a.ipOpts[b].value:a.ipOpts[b].label;e.appendChild(c);e.appendChild(f);a._input.appendChild(e)}return a._input},get:function(a){var b=[];e("input:checked",a._input).each(function(){b.push(this.value)});
return b.join("|")},set:function(a,b){var d=e("input",a._input);e.isArray(b)||(b=b.split("|"));d.each(function(){for(var a=0,c=b.length;a<c;a++)if(this.value===b[a])this.checked=!0})},enable:function(a){e("input",a._input).attr("disabled",!1)},disable:function(a){e("input",a._input).attr("disabled",!0)}});j.radio=e.extend(!0,{},f.Editor.models.fieldType,{create:function(a){a._input=h.createElement("div");for(var b=0,d=a.ipOpts.length;b<d;b++){var e=h.createElement("div"),c=h.createElement("input"),
f=h.createElement("label");f.innerHTML=a.ipOpts[b].label;f.setAttribute("for",a.id+"_"+b);c.id=a.id+"_"+b;c.type="radio";c.value=a.ipOpts[b].value!==l?a.ipOpts[b].value:a.ipOpts[b].label;c.name=a.name;e.appendChild(c);e.appendChild(f);a._input.appendChild(e)}return a._input},get:function(a){return e("input:checked",a._input).val()},set:function(a,b){e("input",a._input).each(function(){if(this.value==b)this.checked=!0})},enable:function(a){e("input",a._input).attr("disabled",!1)},disable:function(a){e("input",
a._input).attr("disabled",!0)}});j.date=e.extend(!0,{},f.Editor.models.fieldType,{create:function(a){a._input=h.createElement("input");a._input.id=a.id;if(!a.dateFormat)a.dateFormat=e.datepicker.RFC_2822;if(!a.dateImage)a.dateImage="../media/images/calender.png";e(this).bind("onInitComplete",function(){e(a._input).datepicker({showOn:"both",dateFormat:a.dateFormat,buttonImage:a.dateImage,buttonImageOnly:!0});e("#ui-datepicker-div").css("display","none")});return a._input},get:function(a){return a._input.value},
set:function(a,b){e(a._input).datepicker("setDate",b)},enable:function(a){e(a._input).datepicker("enable")},disable:function(a){e(a._input).datepicker("disable")}});f.Editor.prototype.CLASS="DataTable.Editor";f.Editor.VERSION="1.0.0";f.Editor.prototype.VERSION=f.Editor.VERSION})(window,document,void 0,jQuery,jQuery.fn.dataTable);
